

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; PyDesigner  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="usage.html" />
    <link rel="prev" title="Image Acquisition" href="acquisition.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PyDesigner
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="acquisition.html">Image Acquisition</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#quick-start-guide">Quick Start Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automated-install">Automated Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fsl">FSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mrtrix3">MRTRIX3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pydesigner">PyDesigner</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyDesigner</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="quick-start-guide">
<h2>Quick Start Guide<a class="headerlink" href="#quick-start-guide" title="Permalink to this headline">¶</a></h2>
<p>PyDesigner requires the following dependencies:</p>
<ol class="arabic simple">
<li><a class="reference external" href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FslInstallation">FSL 6.0.1</a></li>
<li><a class="reference external" href="https://www.mrtrix.org/download/">MRTRIX3</a></li>
<li><a class="reference external" href="https://www.anaconda.com/">Python 3.7</a></li>
</ol>
<p><strong>Note</strong>: All testing was conducted using Python 3.7, MRtrix3, and FSL 6.0.1. Usage of DESIGNER with alternative versions of these dependencies has not been tested and is not recommended.</p>
<p>To install PyDesigner, navigate to the <a class="reference external" href="https://github.com/m-ama/PyDesigner">PyDesigner Github page</a>, click the green “Clone or download” button, and lick “Download ZIP”. When the download is complete, find the PyDesigner-master.zip in your Downloads folder and unzip.</p>
<p><code class="code docutils literal notranslate"><span class="pre">cd</span> <span class="pre">//PyDesigner-master/</span></code></p>
<p>For more information, see the detailed sections below.</p>
</div>
<div class="section" id="automated-install">
<h2>Automated Install<a class="headerlink" href="#automated-install" title="Permalink to this headline">¶</a></h2>
<p>On the main PyDesigner Github page, click the green “Clone or download” button to access the latest PyDesigner build. Click “Download ZIP”. When the download is complete, find the PyDesigner-master.zip in your Downloads folder and unzip.</p>
<p>PyDesigner can be automatically installed with all dependencies by opening a CLI and changing directory to root PyDesigner directory, followed by <code class="code docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">.</span></code></p>
<p>This will execute the setup.py script in root directory to automatically configure your Python environment for PyDesigner. When running the automated methods, PyDesigner can    simply be called with the commad pydesigner instead of specifying the python pydesigner.py prefix.</p>
<p>Note: If you need a stable and tested build, download the most recent release from the Release tab. Click on Source code (zip) link and decompress (unzip) to any folder you     desire.</p>
</div>
<div class="section" id="fsl">
<h2>FSL<a class="headerlink" href="#fsl" title="Permalink to this headline">¶</a></h2>
<p>FSL is a collection of tools and software used to process fMRI, MRI and DWI data. <a class="reference external" href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FslInstallation">Visit their installation page</a> for download and installation guide.</p>
<p><strong>FSL 6.0.1</strong> is recommended. All testing has been done using FSL 6.0.1. PyDesigner has not been tested with other versions of FSL.</p>
<p>Check your FSL version with <code class="code docutils literal notranslate"><span class="pre">FLIRT</span> <span class="pre">-version</span></code></p>
<p><strong>If you are currently running an FSL version after v6.0.1 and using NVIDIA CUDA:</strong></p>
<p>As of most recent FSL 6.0.3, <code class="code docutils literal notranslate"><span class="pre">eddy</span></code> does not support CUDA 10, while <code class="code docutils literal notranslate"><span class="pre">bedpost</span></code> and <code class="code docutils literal notranslate"><span class="pre">probtrakx</span></code> do. Moreover, the version supplied after FSL v6.0.1 fails on certain datasets. If running on a CUDA system, users are advised to downgrade to CUDA 9.1 for maximum compatibility, and to do so prior to installing FSL.</p>
<p>After the installation of FSL, create a backup of original <code class="code docutils literal notranslate"><span class="pre">eddy_cuda9.1</span></code> by renaming it to to <code class="code docutils literal notranslate"><span class="pre">eddy_cuda9.1.BAK</span></code>. Then, replace <code class="code docutils literal notranslate"><span class="pre">eddy_cuda9.1</span></code> with the one from <a class="reference external" href="https://users.fmrib.ox.ac.uk/~thanayik/eddy_cuda9.1">FSL v6.0.1</a> . End by making the new file executable with <code class="code docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">chmod</span> <span class="pre">+x</span> <span class="pre">/path/to/eddy_cuda9.1</span></code>.</p>
<p>Replace/Install <a class="reference external" href="https://users.fmrib.ox.ac.uk/~moisesf/Bedpostx_GPU/Installation.html">bedpostx for GPU</a> for CUDA 9.1.</p>
</div>
<div class="section" id="mrtrix3">
<h2>MRTRIX3<a class="headerlink" href="#mrtrix3" title="Permalink to this headline">¶</a></h2>
<p>MRTRIX3 is another software suite aimed at analysis of DWI data. Here are some of their helpful pages.</p>
<blockquote>
<div><div class="line-block">
<div class="line"><a class="reference external" href="https://www.mrtrix.org/">Homepage</a></div>
<div class="line"><a class="reference external" href="https://www.mrtrix.org/download/">Download and Install</a></div>
</div>
</div></blockquote>
<p>Check your MRtrix version <code class="code docutils literal notranslate"><span class="pre">mrconvert</span> <span class="pre">-version</span></code></p>
</div>
<div class="section" id="python">
<h2>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<p>PyDesigner was built and tested on Python 3.7, so we enourage all users to adopt this version as well. While you may use the Python supplied by default on your OS, we highly enocurage users to adopt a Conda-based Python like <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a> or <a class="reference external" href="https://www.anaconda.com/">Anaconda</a>. Conda is a command line tool that allows the creation of separated environments with different python versions and packages. This of it as running multiple virtual machines on the a single host - you can easily switch between any for different needs, or run them simultaneously.</p>
<p>Refer to either of these distributions’ page for installation. This guide assumes a conda (Miniconda) installation for setting up Python. If you already have conda, or prefer using the default Python supplied by your OS, skip to package installation at the end of this subsection.</p>
<p>First, update conda with <code class="code docutils literal notranslate"><span class="pre">conda</span> <span class="pre">update</span> <span class="pre">conda</span></code></p>
<p>Creating a conda environment is recommended as this will keep all of the dependencies required for this project isolated to just the conda environment called dmri. For more information about conda environments, see <a class="reference external" href="https://towardsdatascience.com/a-guide-to-conda-environments-bc6180fc533?gi=f526e7f5ec4b">The Definitive Guide to Conda Environments</a>. Next, create a conda environment specifically for dMRI preprocessing, called <code class="code docutils literal notranslate"><span class="pre">dmri</span></code>. You can choose any name, but be sure to replace dmri in this guide with the name of your choice.</p>
<p>If you prefer not to create this environment, skip to package installation. In addition, we’ll be installing pip to this environment, in the even conda install &lt;package name&gt; fails to compile and install a package.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>conda create -n dmri <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.7
conda install -n dmri pip
</pre></div>
</div>
<p>Activate the new environment with:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>conda activate dmri
</pre></div>
</div>
<p><strong>Note</strong>: Environment activation (conda activate dmri) needs to be done each time a new terminal window is opened. If this behavior is undesired, you may set this environment as default python environment. Refer to advanced conda user guides or Google search how to do this.</p>
<p><strong>Pepare Python for PyDesigner</strong></p>
<p><strong>Note</strong>: Skip to automated install to configure pydesigner automatically</p>
<p>Once the base environment is created and activated, proceed with the installation of all packages.</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference external" href="https://numpy.org/">NumPy</a></li>
<li><a class="reference external" href="https://www.scipy.org/">SciPy</a></li>
<li><a class="reference external" href="https://www.cvxpy.org/">CVXPY</a></li>
<li><a class="reference external" href="https://nipy.org/nibabel/">NiBabel</a></li>
<li><a class="reference external" href="https://docs.python.org/3.4/library/multiprocessing.html?highlight=process">Multiprocessing</a></li>
<li><a class="reference external" href="https://joblib.readthedocs.io/en/latest/">Joblib</a></li>
<li><a class="reference external" href="https://tqdm.github.io/">TQDM</a></li>
<li><a class="reference external" href="https://github.com/workhorsy/py-cpuinfo">py-cpuinfo</a></li>
<li><a class="reference external" href="https://matplotlib.org/">matplotlib</a></li>
</ol>
</div></blockquote>
<p><strong>Install necessary packages with the commands</strong>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>conda install -c anaconda numpy scipy joblib
conda install -c conda-forge tqdm nibabel multiprocess matplotlib py-cpuinfo
pip install --upgrade setuptools
pip install cvxpy
</pre></div>
</div>
<p>If conda fails to install a package, use pip to install the package with:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip install <span class="o">[</span>package name<span class="o">]</span>
</pre></div>
</div>
<p>Completion of this step will ready your system for dMRI processing. Let’s go!</p>
</div>
<div class="section" id="pydesigner">
<h2>PyDesigner<a class="headerlink" href="#pydesigner" title="Permalink to this headline">¶</a></h2>
<p>On the main <a class="reference external" href="https://github.com/m-ama/PyDesigner">PyDesigner Github page</a>, click the green “Clone or download” button to access the latest PyDesigner build. Click “Download ZIP”. When the download is complete, find the PyDesigner-master.zip in your Downloads folder and unzip.</p>
<p>PyDesigner is located here: /PyDesigner-master/designer/pydesigner.py</p>
<p><strong>Note</strong>: If you need a stable and tested build, download the most recent release from the Release tab. Click on Source code (zip) link and decompress (unzip) to any folder you desire.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="usage.html" class="btn btn-neutral float-right" title="Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="acquisition.html" class="btn btn-neutral float-left" title="Image Acquisition" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Kayti Keith, Siddhartha Dhiman, Joshua Teves

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>